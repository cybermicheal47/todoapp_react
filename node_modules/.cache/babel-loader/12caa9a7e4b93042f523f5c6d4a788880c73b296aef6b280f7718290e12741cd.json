{"ast":null,"code":"import _slicedToArray from\"/home/cyb/feedbackuii/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import Card from'./shared/Card';import Button from'./shared/Button';import{useState,useContext,useEffect}from'react';import Ratingselect from'./Ratingselect';import Feedbackcontext from'../context/Feedbackcontext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Feedbackform(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),text=_useState2[0],settext=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),btndisabled=_useState4[0],setbtndisabled=_useState4[1];var _useState5=useState(10),_useState6=_slicedToArray(_useState5,2),rating=_useState6[0],setrating=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setmessage=_useState8[1];var _useContext=useContext(Feedbackcontext),addfeedback=_useContext.addfeedback,feedbackedit=_useContext.feedbackedit,updatefeedback=_useContext.updatefeedback;useEffect(function(){if(feedbackedit.edit===true){setbtndisabled(false);settext(feedbackedit.item.text);setrating(feedbackedit.item.rating);}},[feedbackedit]);var handletextchange=function handletextchange(e){if(text===''){setbtndisabled(true);setmessage(null);}else if(text!==''&&text.trim().length<=10){setmessage('text must be at least 10 characters');setbtndisabled(true);}else{setmessage(null);setbtndisabled(false);}settext(e.target.value);};var handlesubmit=function handlesubmit(e){e.preventDefault();if(text.trim().length>10){var newfeedback={text:text,rating:rating};if(feedbackedit.edit===true){updatefeedback(feedbackedit.item.id,newfeedback);}else{addfeedback(newfeedback);}settext('');}};return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlesubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"How would you rate your service with  us ?\"}),/*#__PURE__*/_jsx(Ratingselect,{select:function select(rating){return setrating(rating);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:handletextchange,type:\"text\",placeholder:\" write a review \",value:text}),/*#__PURE__*/_jsx(Button,{type:\"submit\",isDisabled:btndisabled,children:\"Send\"})]}),message&&/*#__PURE__*/_jsxs(\"div\",{className:\"message\",children:[\" \",message]})]})});}export default Feedbackform;","map":{"version":3,"names":["React","Card","Button","useState","useContext","useEffect","Ratingselect","Feedbackcontext","jsx","_jsx","jsxs","_jsxs","Feedbackform","_useState","_useState2","_slicedToArray","text","settext","_useState3","_useState4","btndisabled","setbtndisabled","_useState5","_useState6","rating","setrating","_useState7","_useState8","message","setmessage","_useContext","addfeedback","feedbackedit","updatefeedback","edit","item","handletextchange","e","trim","length","target","value","handlesubmit","preventDefault","newfeedback","id","children","onSubmit","select","className","onChange","type","placeholder","isDisabled"],"sources":["/home/cyb/feedbackuii/src/components/Feedbackform.js"],"sourcesContent":["import React from 'react'\nimport Card from './shared/Card'\nimport Button from './shared/Button'\nimport { useState,useContext, useEffect } from 'react'\nimport Ratingselect from './Ratingselect'\nimport Feedbackcontext from '../context/Feedbackcontext'\nfunction Feedbackform() {\n const [text, settext] = useState('')\n const [btndisabled , setbtndisabled] = useState(true)\n const[rating, setrating] = useState(10)\n const [message, setmessage] = useState('')\n\nconst{addfeedback, feedbackedit, updatefeedback} = useContext(Feedbackcontext)\n\n\nuseEffect(()=>{\nif (feedbackedit.edit ===true) {\n  setbtndisabled(false)\n  settext(feedbackedit.item.text)\n  setrating(feedbackedit.item.rating)\n}\n\n\n\n},[feedbackedit]\n\n)\n\n\n\n\n\n\n const handletextchange = (e) =>{\n\nif (text === '') {\n  setbtndisabled(true)\n  setmessage(null)\n\n} else if ( text !== '' &&  text.trim().length <= 10) {\n  setmessage('text must be at least 10 characters')\n  setbtndisabled(true)\n}\nelse {\n  setmessage(null)\n  setbtndisabled(false)\n}\n\n\n\n    settext(e.target.value)\n }\n\nconst handlesubmit = (e) =>\n{\n  e.preventDefault()\nif (text.trim().length >10 ){\n  const newfeedback ={\n    text,\n    rating,\n  }\n\nif(feedbackedit.edit=== true){\n  updatefeedback(feedbackedit.item.id, newfeedback)\n}\nelse {\n  addfeedback(newfeedback)\n\n}\n\n\n\n\n\n settext('')\n}\n\n\n}\n\n\n\n  return (\n    <Card>\n<form onSubmit={handlesubmit}>\n<h2>\nHow would you rate your service \nwith  us ?\n</h2>\n<Ratingselect select={(rating)=>setrating(rating)} />\n<div className='input-group'>\n<input onChange={handletextchange} type='text' placeholder=' write a review '\n\nvalue={text}\n/>\n<Button type='submit'  isDisabled={btndisabled}>\n    Send</Button>\n</div>\n\n{message && <div className='message'> {message}</div>}\n\n</form>\n\n    </Card>\n   \n  )\n}\n\nexport default Feedbackform\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}